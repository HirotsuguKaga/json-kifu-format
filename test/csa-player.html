<meta charset="utf-8">
<script src="../src/kifuplayer.js" charset="utf-8"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<script>
$(document).ready(function() {
	$.ajax('./files/csa/2005_GPS_K-SHOGI.csa', {
		success: function(data) {
			kifu=data;
			parse(data);
		},
		beforeSend: function(xhr){
			xhr.overrideMimeType("text/html;charset=UTF-8");
		},
	}, 'text');
});

function parse(data){
	player = JKFPlayer.parseCSA(data);
	var cnt=0;
	console.log(player.getReadableKifu());
	while(player.forward() && cnt++<1000){
		console.log(player.getReadableKifu());
	}
	cnt=0;
	while(player.backward() && cnt++<1000){}
	player.goto(20);
	console.log(player.shogi.toCSAString());
	player.goto(10);
	console.log(player.shogi.toCSAString());
	player.goto(0);
	console.log(player.shogi.toCSAString());
	player.goto(Infinity);
	console.log(player.shogi.toCSAString());
	player.go(-5);
	console.log(player.shogi.toCSAString());
	player.go(5);
	console.log(player.shogi.toCSAString());
}
</script>
